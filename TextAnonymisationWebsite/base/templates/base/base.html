<!DOCTYPE html>
<html>
<head>
  <title>{% block title %}{% endblock %}</title>
  {% load bootstrap5 %}
  {% load static %}
  {% bootstrap_css %}
  {% bootstrap_javascript %}
  {% block additional_head %}
  {% endblock %}

<link rel="stylesheet" type="text/css" href="{% static 'base/css/popup.css' %}">

<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    {% if messages %}
        {% for message in messages %}
        {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
            <div class="overlay overlay-error">
                <span class = "message_text" {% if message.tags %} class="{{ message.tags }}"{% endif %}><b>ERROR:</b> {{ message.message|safe }}</span> 
        {% elif message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}
            <div class="overlay overlay-warning">
                <span class = "message_text" {% if message.tags %} class="{{ message.tags }}"{% endif %}><b>WARNING:</b> {{ message.message|safe }}</span> 
        {% elif message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
            <div class="overlay overlay-success">
                <span class = "message_text" {% if message.tags %} class="{{ message.tags }}"{% endif %}><b>SUCCESS:</b> {{ message.message|safe }}</span> 
        {% elif message.level == DEFAULT_MESSAGE_LEVELS.INFO %}
            <div class="overlay overlay-info">
                <span class = "message_text" {% if message.tags %} class="{{ message.tags }}"{% endif %}><b>INFO:</b> {{ message.message|safe }}</span> 
        {% elif message.level == DEFAULT_MESSAGE_LEVELS.DEBUG %}
            <div class="overlay overlay-debug">
                <span class = "message_text" {% if message.tags %} class="{{ message.tags }}"{% endif %}><b>DEBUG:</b> {{ message.message|safe }}</span> 
        {% endif %}
                <span class = "message_close">&times;</span>
        </div>
        {%if forloop.last %}
        {% endif %}
        {% endfor %}
    {% endif %}
   <!-- A grey horizontal navbar that becomes vertical on small screens -->
    <nav class="navbar navbar-expand-sm bg-dark">
        <div class="container-fluid">
            <!-- Links -->
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'anon_website:home' %}">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'anon_website:anonymise' %}">Anonymise</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'anon_website:try' %}">Try</a>
                </li>
            </ul>
            {% if user.is_authenticated %}
            <form class="d-flex" action="{% url 'web_auth:logout' %}" method="get">
                <input type="submit" class="btn btn-primary" type="button" value="Logout">
            </form>
            {% else %}
            <form class="d-flex" action="{% url 'web_auth:login' %}" method="get">
                <input type="submit" class="btn btn-primary" type="button" value="Login">
            </form>
            {% endif %}
        </div>
    </nav> 
    
    <div class="container">
        <div class="row">
            <div class="col-2"></div> <!-- Left spacer column -->
            <div class="col-8"> <!-- Middle content column -->
                <div class="content">
                    {% block content %}
                    {% endblock %}
                </div>
            </div>
            <div class="col-2"></div> <!-- Right spacer column -->
        </div>
    </div>
    <script src="{% static 'base/js/popup.js' %}"></script>   
</body>
</html>